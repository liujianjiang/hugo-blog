<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>umami on liujianjiang</title>
    <link>https://liujianjiang.com/tags/umami/</link>
    <description>Recent content in umami on liujianjiang</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>zh</language>
    <lastBuildDate>Sun, 14 Aug 2022 21:34:36 +0800</lastBuildDate><atom:link href="https://liujianjiang.com/tags/umami/index.xml" rel="self" type="application/rss+xml" />
    <item>
      <title>How to integrate umami to your website for free</title>
      <link>https://liujianjiang.com/blog/how-to-integrate-umami-for-free-to-blog-site/</link>
      <pubDate>Sun, 14 Aug 2022 21:34:36 +0800</pubDate>
      
      <guid>https://liujianjiang.com/blog/how-to-integrate-umami-for-free-to-blog-site/</guid>
      <description>&lt;p&gt;This article is about how to integrate &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; website analytics to your website for free. The database use  &lt;a href=&#34;https://supabase.com/docs/guides/database&#34;&gt;postgres&lt;/a&gt; with 500M storage limit provided by &lt;a href=&#34;https://app.supabase.com/&#34;&gt;supabase&lt;/a&gt;.&lt;/p&gt;
&lt;p&gt;The &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; service is hosted with &lt;a href=&#34;https://vercel.com/&#34;&gt;vercel&lt;/a&gt;. Thanks to the excellent service capabilities of cloud vendors, you can integrate &lt;em&gt;umami&lt;/em&gt; in less than 10 minutes. You can see the umami dashboard by clicking the &lt;a href=&#34;https://umami-ochre-nu.vercel.app/share/o3zAba1V/guangzhengli&#34;&gt;Dashboard&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;create-a-database&#34;&gt;Create a database&lt;/h2&gt;
&lt;p&gt;The database use  &lt;a href=&#34;https://supabase.com/docs/guides/database&#34;&gt;postgres&lt;/a&gt; with 500M storage limit provided by &lt;a href=&#34;https://app.supabase.com/&#34;&gt;supabase&lt;/a&gt;. You can create a supabase account, click &lt;code&gt;new project&lt;/code&gt;, and enter the database passowrd to create an ProgresSQL database service.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/cN3Zg4.png&#34; alt=&#34;cN3Zg4&#34;&gt;&lt;/p&gt;
&lt;p&gt;It will take a few minutes to create the database service, and you can get the  &lt;code&gt;DATABASE_URL&lt;/code&gt; after it&amp;rsquo;s done.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/image-20220815182141638.png&#34; alt=&#34;image-20220815182141638&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;hosting-umami&#34;&gt;Hosting umami&lt;/h2&gt;
&lt;p&gt;The &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; service is hosted with &lt;a href=&#34;https://vercel.com/&#34;&gt;vercel&lt;/a&gt;, Once you have created the database instance, you can deploy the umami service with click deploy button in the &lt;a href=&#34;https://umami.is/docs/running-on-vercel&#34;&gt;Running on Vercel&lt;/a&gt; document.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;
&lt;p&gt;Fork the &lt;a href=&#34;https://github.com/mikecao/umami&#34;&gt;https://github.com/mikecao/umami&lt;/a&gt; project to your GitHub account.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Create an account on Vercel.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;From the dashboard page click Import Project then specify the URL to your fork of the project on GitHub.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Add the required environment variables to your Vercel project. These values are defined in the Configure umami step from Install.&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;DATABASE_URL: Connection string for your database. This is the only required variable.&lt;/li&gt;
&lt;li&gt;TRACKER_SCRIPT_NAME: Allows you to assign a custom name to the tracker script different from the default &lt;code&gt;umami&lt;/code&gt;. This is to help you avoid some ad-blockers. I used &lt;code&gt;hugo-ladder&lt;/code&gt; on this project.&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Enter &lt;code&gt;yarn build &amp;amp;&amp;amp; yarn update-db&lt;/code&gt; to the &lt;code&gt;BUILD COMMAND&lt;/code&gt;, which will migrate the tables of umami to database automatically.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Deploy and visit your application at &lt;!-- raw HTML omitted --&gt;.vercel.app.&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;Follow the Getting started guide starting from the Login step and be sure to change the default password.&lt;/p&gt;
&lt;/li&gt;
&lt;/ol&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/gePzXI.png&#34; alt=&#34;gePzXI&#34;&gt;&lt;/p&gt;
&lt;p&gt;Of course, if you want to import tables yourself, you can also get the tables from here &lt;a href=&#34;https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql&#34;&gt;https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql&lt;/a&gt;.&lt;/p&gt;
&lt;h2 id=&#34;umami-configuration&#34;&gt;umami configuration&lt;/h2&gt;
&lt;p&gt;After deploying umami in vercel you will get a  &lt;code&gt;&amp;lt;deploy-id&amp;gt;.vercel.app&lt;/code&gt;  address which login with the default account: &lt;em&gt;admin&lt;/em&gt; and password: &lt;em&gt;umami&lt;/em&gt;.&lt;/p&gt;
&lt;p&gt;You can change the default password and &lt;code&gt;Add webiste&lt;/code&gt;, enter the &lt;code&gt;Name&lt;/code&gt; and &lt;code&gt;Domain&lt;/code&gt;, and click  &lt;code&gt;enable share URL&lt;/code&gt; so that anyone can access the dashboard.&lt;/p&gt;
&lt;p&gt;Then you can get  &lt;code&gt;data-website-id&lt;/code&gt; and  &lt;code&gt;src&lt;/code&gt; values by click &lt;code&gt;Get tracking code&lt;/code&gt;ï¼Œenter the value to the &lt;code&gt;hugo-ladder&lt;/code&gt; configuration  &lt;code&gt;params.analytics.umami.website_id&lt;/code&gt; ,  &lt;code&gt;params.analytics.umami.url&lt;/code&gt;.&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/OZcU7U.png&#34; alt=&#34;OZcU7U&#34;&gt;&lt;/p&gt;
&lt;p&gt;In the end, you can get the website statistics analytics dashboard.ğŸ‰ğŸ‰ğŸ‰&lt;/p&gt;
&lt;p&gt;Link to original article: &lt;a href=&#34;https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/&#34;&gt;https://guangzhengli.com/en/blog/en/how-to-integrate-umami-for-free-to-blog-site/&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    
    <item>
      <title>å¦‚ä½•é›¶æˆæœ¬ç»™åšå®¢é›†æˆ umami æ•°æ®ç»Ÿè®¡åˆ†æåŠŸèƒ½</title>
      <link>https://liujianjiang.com/blog/zh/how-to-integrate-umami-for-free-to-blog-site/</link>
      <pubDate>Sun, 14 Aug 2022 21:34:36 +0800</pubDate>
      
      <guid>https://liujianjiang.com/blog/zh/how-to-integrate-umami-for-free-to-blog-site/</guid>
      <description>&lt;p&gt;æœ¬ç¯‡æ–‡ç« ä»‹ç»å¦‚ä½•é›¶æˆæœ¬ç»™åšå®¢æˆ–è€…ç½‘ç«™é›†æˆ &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; ç»Ÿè®¡åŠŸèƒ½ã€‚æ•°æ®åº“ç”¨çš„æ˜¯ &lt;a href=&#34;https://app.supabase.com/&#34;&gt;supabase&lt;/a&gt; æä¾›çš„æœ‰é™é¢çš„ &lt;a href=&#34;https://supabase.com/docs/guides/database&#34;&gt;postgres&lt;/a&gt;ï¼Œä¸è¿‡å…è´¹æä¾›çš„ 500M å¯¹äº  &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; æ¥è®²å·²ç»è¶³å¤Ÿäº†ã€‚&lt;/p&gt;
&lt;p&gt;æ‰˜ç®¡ &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; æœåŠ¡ç”¨çš„æ˜¯ &lt;a href=&#34;https://vercel.com/&#34;&gt;vercel&lt;/a&gt;ã€‚å¾—ç›Šäºç°åœ¨çš„äº‘å‚å•†ä¼˜ç§€çš„æœåŠ¡èƒ½åŠ›ï¼Œä½ å¯ä»¥åœ¨ 10 åˆ†é’Ÿå†…é›†æˆå¥½ &lt;em&gt;umami&lt;/em&gt;ã€‚å¯ä»¥ç‚¹å‡» &lt;a href=&#34;https://umami-ochre-nu.vercel.app/share/o3zAba1V/guangzhengli&#34;&gt;æ•°æ®ç»Ÿè®¡çœ‹æ¿&lt;/a&gt; æŸ¥çœ‹æœ€ç»ˆæ•ˆæœã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ›å»ºæ•°æ®åº“&#34;&gt;åˆ›å»ºæ•°æ®åº“&lt;/h2&gt;
&lt;p&gt;æ•°æ®åº“ç”¨çš„æ˜¯ &lt;a href=&#34;https://app.supabase.com/&#34;&gt;supabase&lt;/a&gt; æä¾›çš„æœ‰é™é¢çš„ &lt;a href=&#34;https://supabase.com/docs/guides/database&#34;&gt;postgres&lt;/a&gt; æ•°æ®åº“ï¼Œåˆ›å»ºä¸€ä¸ª supabase è´¦å·ï¼Œæ–°å»ºä¸€ä¸ªé¡¹ç›®ï¼Œè¾“å…¥ Datebase password å³å¯åˆ›å»ºæ•°æ®åº“æœåŠ¡ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/cN3Zg4.png&#34; alt=&#34;cN3Zg4&#34;&gt;&lt;/p&gt;
&lt;p&gt;åˆ›å»ºå¯èƒ½ä¼šè¯è´¹å‡ åˆ†é’Ÿæ—¶é—´ï¼Œåˆ›å»ºå®Œæˆååªéœ€è¦æ‹¿åˆ° &lt;code&gt;DATABASE_URL&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/image-20220815182141638.png&#34; alt=&#34;image-20220815182141638&#34;&gt;&lt;/p&gt;
&lt;h2 id=&#34;æ‰˜ç®¡-umami&#34;&gt;æ‰˜ç®¡ umami&lt;/h2&gt;
&lt;p&gt;æ‰˜ç®¡ &lt;a href=&#34;https://umami.is/&#34;&gt;umami&lt;/a&gt; æœåŠ¡ç”¨çš„æ˜¯ &lt;a href=&#34;https://vercel.com/&#34;&gt;vercel&lt;/a&gt;ã€‚åˆ›å»ºå¥½æ•°æ®åº“å®ä¾‹ä¹‹åï¼Œå¯ä»¥é€šè¿‡ Vercel ä¸€é”®éƒ¨ç½² umami æœåŠ¡äº†ã€‚è®¿é—® &lt;a href=&#34;https://umami.is/&#34;&gt;umami å®˜æ–¹æ–‡æ¡£&lt;/a&gt; çš„ &lt;a href=&#34;https://umami.is/docs/running-on-vercel&#34;&gt;Running on Vercel&lt;/a&gt; æ¨¡å—ï¼Œæœ‰æ“ä½œè¯´æ˜ä¸ä¸€é”®éƒ¨ç½²è„šæœ¬ã€‚&lt;/p&gt;
&lt;p&gt;é¦–å…ˆæˆ‘ä»¬ç™»å½• GitHub è´¦å·ï¼Œ &lt;code&gt;fork&lt;/code&gt; umami (&lt;a href=&#34;https://github.com/umami-software/umami&#34;&gt;https://github.com/umami-software/umami&lt;/a&gt;) é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;ç™»å½• &lt;a href=&#34;https://vercel.com/&#34;&gt;vercel&lt;/a&gt; ï¼Œåˆ›å»ºä¸€ä¸ªçš„è´¦å·ï¼Œå»ºè®®ä½¿ç”¨ GitHub è´¦å·æ³¨å†Œç™»å½•ï¼Œåœ¨ &lt;code&gt;new project&lt;/code&gt; ä¸­é€‰æ‹© &lt;code&gt;import&lt;/code&gt; ä½ åˆšåˆš &lt;code&gt;fork&lt;/code&gt; çš„é¡¹ç›®ã€‚&lt;/p&gt;
&lt;p&gt;ä¹‹åå¡«å†™ç¯å¢ƒå˜é‡ï¼Œè¿™é‡Œæˆ‘ä»¬éœ€è¦å¡«å†™ä¸¤ä¸ªç¯å¢ƒå˜é‡&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;DATABASE_URLï¼šåœ¨åˆ›å»ºæ•°æ®åº“ä¸­æ‹¿åˆ°çš„ DATABASE_URL&lt;/li&gt;
&lt;li&gt;TRACKER_SCRIPT_NAMEï¼š è¿™é‡Œé»˜è®¤çš„ &lt;code&gt;tracker_script_name&lt;/code&gt; å¯èƒ½ä¼šå¯¼è‡´éƒ¨åˆ†  &lt;code&gt;AdBlock&lt;/code&gt; æ‹¦æˆªè¯·æ±‚ï¼ŒæŸå¤±ä¸€éƒ¨åˆ†çš„è®¿é—®æ•°æ®ï¼Œæ‰€ä»¥è¿™é‡Œæˆ‘å¡«çš„æ˜¯ &lt;code&gt;hugo-ladder&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;æœ€ååœ¨ Build é˜¶æ®µï¼Œ &lt;code&gt;build command&lt;/code&gt;  è®°å¾—å¡«å†™ &lt;code&gt;yarn build &amp;amp;&amp;amp; yarn update-db&lt;/code&gt;ï¼Œè¿™æ ·çš„è¯ä¼šè‡ªåŠ¨ migrate æ•°æ®åº“çš„è¡¨ã€‚æ— éœ€è‡ªå·±æ‰‹åŠ¨å¯¼å…¥ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/gePzXI.png&#34; alt=&#34;gePzXI&#34;&gt;&lt;/p&gt;
&lt;p&gt;å½“ç„¶å¦‚æœä½ æƒ³è‡ªå·±å¯¼å…¥çš„è¯ï¼Œä¹Ÿå¯ä»¥ç›´æ¥ä»è¿™é‡Œ &lt;a href=&#34;https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql&#34;&gt;https://github.com/umami-software/umami/blob/master/sql/schema.postgresql.sql&lt;/a&gt; è·å–éœ€è¦çš„è¡¨ã€‚&lt;/p&gt;
&lt;h2 id=&#34;é…ç½®-umami&#34;&gt;é…ç½® umami&lt;/h2&gt;
&lt;p&gt;åœ¨ vercel éƒ¨ç½²å®Œæˆ umami åä¼šå¾—åˆ°ä¸€ä¸ª &lt;code&gt;&amp;lt;deploy-id&amp;gt;.vercel.app&lt;/code&gt; ï¼Œæˆ‘ä»¬è®¿é—®å®ƒï¼Œé»˜è®¤çš„è´¦å·å¯†ç æ˜¯ &lt;strong&gt;admin&lt;/strong&gt; å’Œ &lt;strong&gt;umami&lt;/strong&gt;ã€‚&lt;/p&gt;
&lt;p&gt;å®ŒæˆåŸºç¡€å¸å·é…ç½®åï¼Œç‚¹å‡»ä¾§è¾¹æ ç½‘ç«™ Tabï¼Œç‚¹å‡»æ·»åŠ ç½‘ç«™ã€‚å¡«å†™ç½‘ç«™åŸºæœ¬ä¿¡æ¯ï¼Œå¯ä»¥å‹¾é€‰ &lt;code&gt;enable share URL&lt;/code&gt;ï¼Œè¿™æ ·ä»»ä½•äººéƒ½å¯ä»¥è®¿é—®è¿™ä¸ªæ•°æ®çœ‹æ¿ã€‚&lt;/p&gt;
&lt;p&gt;æˆ‘ä»¬æ‹¿åˆ°å¯¹åº”çš„ &lt;code&gt;data-website-id&lt;/code&gt; å’Œ &lt;code&gt;src&lt;/code&gt; ï¼Œå¡«å…¥ä¸»é¢˜é…ç½®ä¸­çš„ &lt;code&gt;params.analytics.umami.website_id&lt;/code&gt; å’Œ  &lt;code&gt;params.analytics.umami.url&lt;/code&gt; å³å¯ã€‚&lt;/p&gt;
&lt;p&gt;&lt;img src=&#34;https://cdn.jsdelivr.net/gh/guangzhengli/PicURL@master/uPic/OZcU7U.png&#34; alt=&#34;OZcU7U&#34;&gt;&lt;/p&gt;
&lt;p&gt;æœ€ç»ˆï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°æœ¬ç«™æ•°æ®ç»Ÿè®¡çœ‹æ¿çš„åŠŸèƒ½ğŸ‰ğŸ‰ğŸ‰&lt;/p&gt;
&lt;p&gt;åŸæ–‡é“¾æ¥: &lt;a href=&#34;https://guangzhengli.com/zh/blog/zh/how-to-integrate-umami-for-free-to-blog-site/&#34;&gt;https://guangzhengli.com/zh/blog/zh/how-to-integrate-umami-for-free-to-blog-site/&lt;/a&gt;&lt;/p&gt;</description>
    </item>
    
  </channel>
</rss>